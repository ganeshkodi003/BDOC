<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css"
	href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/font-awesome/5.9.0/css/all.min.css"
	th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/jquery-ui/1.12.1/jquery-ui.min.css"
	th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/datatables/1.10.19/css/jquery.dataTables.min.css"
	th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
<link rel="shortcut icon" th:href="@{/favicon.ico}" type="image/x-icon">
<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon">

<script src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js"
	th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
<script src="/webjars/popper.js/1.14.7/umd/popper.min.js"
	th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
<script src="/webjars/jquery/3.4.1/jquery.min.js"
	th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.min.js"
	th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
<script src="/webjars/jquery-form/4.2.2/jquery.form.min.js"
	th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>
<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
	th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>
<script src="/webjars/datatables/1.10.19/js/jquery.dataTables.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
<script
	src="/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>

 <style>
        .hidden {
            display: none;
        }
    </style>
      <style>
        .status-verified {
            color: green;
        }
        .status-pending {
            color: red; /* or any other color you prefer */
        }
    </style>
<style>
.pat{

background-clip: padding-box;
    border: 1px solid #ced4da;}
button, input {
    border: aliceblue;
    overflow: visible;
}
.btns {
	float: right;
	margin: 5px;
}
label {
	font-size: 16px;
}
.col-sm-5 {
	padding-bottom: 15px;
}

.list-body {
	padding: 0px;
}

.error {
	color: red;
	padding-left: 10px;
}

.formline {
	padding-bottom: 4px;
}

#finusertb {
	width: 460px;
}

.dataTables_wrapper .dataTables_paginate .paginate_button {
	padding: 0px;
}

.nav-tabs .nav-item.show .nav-link, .nav-tabs .nav-link.active {
	border: 2px solid skyblue !important;
	border-bottom: unset !important;
	background-color: unset !important;
	color: black !important;
	background-color: unset !important;
}

nav {
	border-bottom: 2px solid grey;
}
.filterable .filters input[disabled] {
	background-color: transparent;
	border: none;
	cursor: auto;
	box-shadow: none;
	padding: 0;
	height: auto;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-moz-placeholder {
	color: #333;
}

.filterable .filters input[disabled]:-ms-input-placeholder {
	color: #333;
}

</style>

 <style type="text/css">
.navbar {
    margin-left: -5px;
    position: fixed; /* Keep it fixed */
    top: 0;
    width: 100%;
    z-index: 1000; /* Ensure it's above other elements */
}
.content {
    margin-top: 151px ! important; /* Push content down to avoid overlap */
}
.container-fluid {
    width: 100%;
    padding-top:5px;
    padding-right: 0px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}
.container-manager {
	padding-right: 47px;
	padding-left: 132px;
}
.row {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -8px;
    margin-left: -22px;
}
</style>
<script type="text/javascript">
$(document).ready(function () {
    $('.dropdown, .dropdown-submenu').hover(function () {
        $(this).children('.dropdown-menu').stop(true, true).delay(200).fadeIn(200);
    }, function () {
        $(this).children('.dropdown-menu').stop(true, true).delay(200).fadeOut(200);
    });
});
</script>
    




<style>
        table, th, td {
            border: 1px solid #c5c4c4;
            border-collapse: collapse;
            padding: 8px;
        }
        th, td {
            text-align: left;
        }
    </style>

<script th:inline="javascript">
	/*<![CDATA[*/

	$(function() {

		$("#date").datepicker({
			changeMonth : true,
			changeYear : true,
			dateFormat : "dd-mm-yy"
		});

	});

	function home() {
		location.href = 'Dashboard';
	}

	function reload() {
		window.location.reload();
	}
	function back() {
		window.history.back();
	}

	function adduser() {
		location.href = 'adminHolidayMaster?formmode=add';
	}

	function userList() {
		location.href = 'adminHolidayMaster?formmode=list';
	}
	
	function modify_btn(a) {
		
		var group_name = a.getAttribute("group_name");
		location.href = 'Taxation_parameters?formmode=edit' + '&group_name=' + group_name;
	}
	function verify_btn_submit(a) {
		var group_name = a.getAttribute("group_name");
		alert(group_name)
		location.href = 'Taxation_parameters?formmode=verify' + '&group_name=' + group_name;
	}
	function view_btn_submit(a) {
		var group_name = a.getAttribute("group_name");alert(group_name)
		location.href = 'Taxation_parameters?formmode=view' + '&group_name=' + group_name;
	}
	function delete_btn_submit(a) {
		var group_name = a.getAttribute("group_name");alert(group_name)
		location.href = 'Taxation_parameters?formmode=delete' + '&group_name=' + group_name;
	}
	
	function addTaxData() {
	    var taxationParametersList = [];

	    var groupname =  $("#group").val();
	    var nationala = $('input[name="national"]:checked').val();
	    var nationalcountry =  $("#national_country").val();
	    //var specifycountry =  $("#specify_country").val();
        
	    $('#dynamicTable tbody tr').each(function(index) {
	        var row = $(this);
	        console.log("Processing row " + index);
	        console.log(row.html());  // Log the HTML of the current row to check its structure

	        var taxCode = row.find('input[name="tax_code"]').val();
	        var minAmount = row.find('input[name="min_amount"]').val();
	        var maxAmount = row.find('input[name="max_amount"]').val();
	        var taxValue = row.find('input[name="tax_value"]').val();
	        var fjdvalue = row.find('input[name="fjd"]').val();


	        //console.log("Row " + index + " data:", { taxCode, minAmount, maxAmount, taxValue });

	        if (taxCode && minAmount && maxAmount && taxValue && fjdvalue) {
	            var taxationParameters = {
	                tax_code: taxCode,
	                min_amount: minAmount,
	                max_amount: maxAmount,
	                tax_value: taxValue,
	                fjd: fjdvalue,

	                group_name: groupname,
	                national: nationala,
	                national_country: nationalcountry
	                
	            };

	            taxationParametersList.push(taxationParameters);
	        } else {
	            console.warn("Row " + index + " is missing data and will be skipped.");
	        }
	    });

	   // console.log("Final taxationParametersList:", taxationParametersList);

	    if (taxationParametersList.length > 0) {
	        $.ajax({
	            type: 'POST',
	            url: './add_Tax_param?formmode=add',
	            contentType: 'application/json',
	            data: JSON.stringify(taxationParametersList),
	            success: function(response) {
	            	//alert(response);
	            	//window.location.reload();
	            	$("#alertmsg").text(response);
					$('#alert').modal("toggle");
	            },
	            error: function(xhr, status, error) {
	                console.error("AJAX error:", status, error);
	                alert("An error occurred while sending the data.");
	            }
	        });
	    } else {
	        alert("No data to send.");
	    }
	};


	function modifyTaxData(a) {
		
		var taxationParametersList = [];

    var groupname =  $("#group").val();
    var nationala = $('input[name="national"]:checked').val();
    var nationalcountry =  $("#national_country").val();
   // var specifycountry =  $("#specify_country").val();
    
    $('#dynamicTable tbody tr').each(function(index) {
        var row = $(this);
        console.log("Processing row " + index);
        console.log(row.html());  // Log the HTML of the current row to check its structure

        var srlno = row.find('input[name="srl_no"]').val();
        var taxCode = row.find('input[name="tax_code"]').val();
        var minAmount = row.find('input[name="min_amount"]').val();
        var maxAmount = row.find('input[name="max_amount"]').val();
        var taxValue = row.find('input[name="tax_value"]').val();
        var fjdValue = row.find('input[name="fjd"]').val();


        //console.log("Row " + index + " data:", { taxCode, minAmount, maxAmount, taxValue });

        if (taxCode && minAmount && maxAmount && taxValue && fjdValue) {
            var taxationParameters = {
            		srl_no: srlno,
                tax_code: taxCode,
                min_amount: minAmount,
                max_amount: maxAmount,
                tax_value: taxValue,
                fjd: fjdValue,

                group_name: groupname,
                national: nationala,
                national_country: nationalcountry
            };

            taxationParametersList.push(taxationParameters);
        } else {
            console.warn("Row " + index + " is missing data and will be skipped.");
        }
    });

    if (taxationParametersList.length > 0) {
        $.ajax({
            type: 'POST',
            url: './add_Tax_param?formmode=edit',
            contentType: 'application/json',
            data: JSON.stringify(taxationParametersList),
            success: function(response) {
            	$("#alertmsg").text(response);
				$('#alert').modal("toggle");
            },
            error: function(xhr, status, error) {
                console.error("AJAX error:", status, error);
                alert("An error occurred while sending the data.");
            }
        });
    } else {
        alert("No data to send.");
    }
	};
	
			function removeRow(button){
			     var srl_no = $(button).closest('tr').find('input[name="srl_no"]').val();
			        alert(srl_no);
			        
					var url = "./del_row_param?srl_no=" +srl_no;
					$("#taxparam").attr('action', url);
					var options = {
							success : showResponse
						};
					$("#taxparam").ajaxSubmit(options);

					function showResponse(responseText, statusText, xhr, $form) {
						$("#alertmsg").text(responseText);
						$("#alert").modal("toggle");
					}
					;
			        
			        
			        
			}
			
</script>
<script>
function verifyParamData(a) {
	var group_name = a.getAttribute("groupn");
	var url = './del_row_param?formmode=verify&group_name=';
	$("#taxparam").attr('action', url);
	var options = {
			success : showResponse             
		};
	$("#taxparam").ajaxSubmit(options);

	function showResponse(responseText, statusText, xhr, $form) {
		$("#alertmsg").text(responseText);
		$("#alert").modal("toggle");
	}
	;
	
}

function delParamData(a) {
	var group_name = a.getAttribute("groupn");
	var url = './del_row_param?formmode=delete&group_name=';
	$("#taxparam").attr('action', url);
	var options = {
			success : showResponse             
		};
	$("#taxparam").ajaxSubmit(options);

	function showResponse(responseText, statusText, xhr, $form) {
		$("#alertmsg").text(responseText);
		$("#alert").modal("toggle");
	
	}
	;
	
}

</script>
<script>
$(document).ready(function() {


        // List of country names
        const countries = [
            "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia",
            "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus",
            "Belgium", "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil",
            "Brunei", "Bulgaria", "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada",
            "Central African Republic", "Chad", "Chile", "China", "Colombia", "Comoros", "Congo, Democratic Republic of the",
            "Congo, Republic of the", "Costa Rica", "Croatia", "Cuba", "Cyprus", "Czech Republic", "Denmark",
            "Djibouti", "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea",
            "Estonia", "Eswatini", "Ethiopia", "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany",
            "Ghana", "Greece", "Grenada", "Guatemala", "Guinea", "Guinea-Bissau", "Guyana", "Haiti", "Honduras",
            "Hungary", "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Israel", "Italy", "Jamaica",
            "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Korea, North", "Korea, South", "Kosovo",
            "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein",
            "Lithuania", "Luxembourg", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands",
            "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro",
            "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand",
            "Nicaragua", "Niger", "Nigeria", "North Macedonia", "Norway", "Oman", "Pakistan", "Palau", "Panama",
            "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal", "Qatar", "Romania",
            "Russia", "Rwanda", "Saint Kitts and Nevis", "Saint Lucia", "Saint Vincent and the Grenadines", "Samoa",
            "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone",
            "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "South Sudan", "Spain",
            "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan", "Tanzania",
            "Thailand", "Timor-Leste", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan",
            "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "Uruguay",
            "Uzbekistan", "Vanuatu", "Vatican City", "Venezuela", "Vietnam", "Yemen", "Zambia", "Zimbabwe"
        ];

        // Populate the dropdown with country names
        const dropdown = document.getElementById("national_country");

        countries.forEach(country => {
            const option = document.createElement("option");
            option.value = country;
            option.textContent = country;
            dropdown.appendChild(option);
        });
});
    </script>
 <script>
        function adedddd(){
            var tableBody = document.getElementById('dynamicTable').getElementsByTagName('tbody')[0];
            var newRow = document.createElement('tr');

            var columns = ['tax_code', 'min_amount', 'max_amount','tax_value','fjd'];
            columns.forEach(function(column) {
                var newCell = document.createElement('td');
                var input = document.createElement('input');
                input.type = 'text';
                input.name = column;
                input.placeholder = 'Enter ' + column.charAt(0).toUpperCase() + column.slice(1);
                newCell.appendChild(input);
                newRow.appendChild(newCell);
            });

            var actionCell = document.createElement('td');
            var removeButton = document.createElement('button');
            removeButton.textContent = 'Remove';
            removeButton.className = 'removeRowBtn';
            removeButton.addEventListener('click', function() {
                tableBody.removeChild(newRow);
            });
            actionCell.appendChild(removeButton);
            newRow.appendChild(actionCell);

            tableBody.appendChild(newRow);
            event.preventDefault();  
        };

        document.querySelectorAll('.removeRowBtn').forEach(function(button) {
            button.addEventListener('click', function() {
                var row = button.parentElement.parentElement;
                row.parentElement.removeChild(row);
            });
        });
    
    </script>
    
   
     <script>
        $(document).ready(function() {
            $('input[name="national"]').change(function() {
                if ($('#radioYes').is(':checked')) {
                	 $('#inputDiv').removeClass('hidden');
                     $('#dropdownDiv').addClass('hidden');
                     
                } else if ($('#radioNo').is(':checked')) {
                   
                    $('#dropdownDiv').removeClass('hidden');
                    $('#inputDiv').addClass('hidden');
                }
            });
        });
    </script>
    
     <script>
        function showElement(selectedOption) {

                var elementToShow = document.getElementById('tax_pa');
               
                    elementToShow.style.display = 'block';
             
        }
        
        
    </script>
   <script>
document.addEventListener("DOMContentLoaded", function() {
    const radioYes = document.getElementById('radioYes');
    const radioNo = document.getElementById('radioNo');
    const dropdownDiv = document.getElementById('dropdownDiv');
    const inputDiv = document.getElementById('inputDiv');

    function toggleVisibility() {
        if (radioYes.checked) {
            dropdownDiv.classList.add('hidden');
            inputDiv.classList.remove('hidden');
            
        } else if (radioNo.checked) {
            
            dropdownDiv.classList.remove('hidden');
            inputDiv.classList.add('hidden');
        }
    }

    radioYes.addEventListener('change', toggleVisibility);
    radioNo.addEventListener('change', toggleVisibility);

    // Initial visibility setup
    toggleVisibility();
});
</script>
<script th:inline="javascript">
    $(document).ready(function() {
     
        // Populate table with data from backend (if available)
        var paramview = /*[[${paramview}]]*/ [];
        if (paramview && paramview.length > 0) {
            $.each(paramview, function(index, param) {
                var newRow = $('#templateRow').clone().removeAttr('id').removeAttr('style');
                newRow.find('input[name="srl_no"]').val(param.srl_no);
                newRow.find('input[name="tax_code"]').val(param.tax_code);
                newRow.find('input[name="min_amount"]').val(param.min_amount);
                newRow.find('input[name="max_amount"]').val(param.max_amount);
                newRow.find('input[name="tax_value"]').val(param.tax_value);
                newRow.find('input[name="fjd"]').val(param.fjd);
                $('#dynamicTable tbody').append(newRow);
            });
        }
    });
</script>

<script type="text/javascript">




</script>
</head>
<title>ERP</title>

<body>

	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-2">
				<div th:insert="BTMHeaderMenu :: header"></div>
			</div>
			<div class="col-sm-12" >

				<div class="container-fluid content" th:if="${formmode}=='add' OR ${formmode}=='null' ">
					<div class="row">
			<div class="col-sm-12">

						<form action="#" th:object="${taxparam}" class="w-100" 
							method="post" autocomplete="off" id="taxparam" name="form1" >

							<div class="card" style="width: 112%;">
							
								<div class="card-header border-bottom-0" style="font-family: 'Nunito', sans-serif; font-size: 23px; font-weight: 600; letter-spacing: 0.5px; line-height: 1.5; text-transform: capitalize; color: #333; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);" >
									<div class="">
										<h3 >TAXATION PARAMETERS</h3>
									</div>
									</div>
									<div class="row formline"></div>
									
									<div class="row formline"></div>
									<div class="card-body p-3">

									<div class="form-group mb-0">
									
								<div class="row formline" style=" margin-left: -94px;">
											<div class="col-4 col-lg-2">
								 <label for="dropdown" style=" FONT-SIZE: medium;transform: translateX(86px);margin-top: -5px;font-weight: 500;">TAX CATEGORY</label>
								 </div>
											<div class="col-4 col-lg-2">
    <select id="group" onchange="showElement(this.value)" name="group_name" style="  background-color: #f9fff6;">
        <option value="">SELECT</option>
        <option value="GROUP-A">GROUP A</option>
        <option value="GROUP-B">GROUP B</option>
        <option value="GROUP-C">GROUP C</option>
        <option value="GROUP-D">GROUP D</option>
        <option value="GROUP-E">GROUP E</option>
        <option value="GROUP-F">GROUP F</option>
        <option value="GROUP-G">GROUP G</option>
        <option value="GROUP-H">GROUP H</option>
        <option value="GROUP-I">GROUP I</option>
        <option value="GROUP-J">GROUP J</option>
        <option value="GROUP-K">GROUP K</option>
        <option value="GROUP-L">GROUP L</option>
        <option value="GROUP-M">GROUP M</option>
        <option value="GROUP-N">GROUP N</option>
        <option value="GROUP-O">GROUP O</option>
        <option value="GROUP-P">GROUP P</option>
        <option value="GROUP-Q">GROUP Q</option>
        <option value="GROUP-R">GROUP R</option>
        <option value="GROUP-S">GROUP S</option>
        <option value="GROUP-T">GROUP T</option>
        <option value="GROUP-U">GROUP U</option>
        <option value="GROUP-V">GROUP V</option>
        <option value="GROUP-W">GROUP W</option>
        <option value="GROUP-X">GROUP X</option>
        <option value="GROUP-Y">GROUP Y</option>
        <option value="GROUP-Z">GROUP Z</option>
       
    </select>
     </div>
     </div>
      </div>
       </div>
       <div id="tax_pa" style="display:none">
										 <div class="row formline" >
										 
										 <div class="col-4 col-lg-2">
											<label id="National" style="transform: translateX(25px);font-weight: 500;">NATIONAL</label>
											</div>
										 <div class="col-4 col-lg-1" style="transform: translateX(-53px);">
           								<label>
                						<input type="radio" name="national" value="yes" id="radioYes"> Yes
           								 </label>
           								 </div>
           								 <label style="transform: translateX(-53px);">
               							 <input type="radio" name="national" value="no" id="radioNo"> No
           								 </label>
           								  <div class="col-4 col-lg-4">
           								  <div id="dropdownDiv" class="hidden">
            <label for="national_country">Country :</label>
            <select id="national_country" name="national_country" class="pat" style="background-color: #f9fff6;" >
                <option value=""  >Select a country</option>
            </select>
        </div>		  
        <!--  <div id="inputDiv" class="hidden">
            <label >Please specify:</label>
            <input  type="text" id="specify_country" name="specify_country" class="pat" style="background-color: #f9fff6;">
        </div> -->
           								  </div>
       									 </div>
								
								<div class="card-body p-3">
									<div class="form-group mb-0">
									
										
									
    <table id="dynamicTable">
        <thead>
            <tr>
                <th>Tax Code</th>
                <th>Min. Amount</th>
                <th>Max. Amount</th>
                <th>Tax Value (%)</th>
                <th>FJD</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><input type="text" name="tax_code" placeholder="Enter TaxCode"  style="background-color: white; color: block;"></td>
                <td><input type="number" name="min_amount" placeholder="Enter MaxAmount" style="background-color: white;"></td>
                <td><input type="number" name="max_amount" placeholder="Enter MinAmount" style="background-color: white;"></td>
                <td><input type="number" name="tax_value" placeholder="Enter TaxValue" style="background-color: white;"></td>
                <td><input type="number" name="fjd" placeholder="Enter fjd" style="background-color: white;"></td>
                 <td><button class="removeRowBtn">Remove</button></td>
            </tr>
        </tbody>
    </table>
    	 <button id="addRowBtn" onclick="adedddd();">Add Row</button>
										 	
									</div>
								
								</div>
								</div>
								
								
								
								<!-- The parameter list start -->
								<div >
					<div class="row">
						<div class="col-sm-12">
							<div class="container-fluid">
								
								<!-- <div class="card-body"> -->
								<table class="table  table-bordered  table-hover table-sm"
									style="margin-bottom: 0px" id="usertable">
									<thead class="thead-light">
										<tr>
											<th style="font-size: 15px; text-align:center;">GROUP</th>
											<th style="font-size: 15px; text-align:center;">TAX CODE</th>
											<th style="font-size: 15px; text-align:center;">MINIMUM AMOUNT</th>
											<th style="font-size: 15px; text-align:center;">MAXIMUM AMOUNT</th>
											<th style="font-size: 15px; text-align:center;">NATIONAL</th>
											<th style="font-size: 15px; text-align:center;">COUNTRY</th>
											<th style="font-size: 15px; text-align:center;">STATUS</th>
											<th style="width: 13%;font-size: 15px;text-align:center;">ACTION</th>
										
										</tr>
									</thead>
									<tbody th:each="paralist : ${getdatas}">
									
										 <tr > 
											
											<td style="width: 100px; text-align:center;" th:text="${paralist.group_name}"></td>
											<td style="width: 100px; text-align:right;" th:text="${paralist.tax_code}"></td>
											<td style="width: 100px; text-align:right;" th:text="${paralist.min_amount}"></td>
											<td style="width: 100px; text-align:right;" th:text="${paralist.max_amount}"></td>
											<td style="width: 100px; text-align:center;" th:text="${paralist.national}"></td>
											<td style="width: 100px; text-align:center;" th:text="${paralist.national_country}"></td>
											<td th:class="${paralist.status} == 'Verified' ? 'status-verified' : 'status-pending'"  style="width: 100px; text-align:center;" th:text="${paralist.status}"></td>
											<td style=" text-align:center;">
												<div class="dropdown">
													<button class="btn  btn-dark btn-secondary dropdown-toggle"
														type="button" id="dropdownMenuButton" title="Action"
														style="line-height: 0.7; font-size: 11px; color: #3a4550; background: #e3e3e4; "
														data-toggle="dropdown" aria-haspopup="true"
														aria-expanded="false">Action</button>
													<div class="dropdown-menu"
														aria-labelledby="dropdownMenuButton"
														style="background-color: #e3e3e4; color: #3a4550;">
														<a 
															class="dropdown-item" title=" Modify" th:attr="group_name= ${paralist.group_name}"
															style="cursor: pointer; height: 20px; color: #3a4550; background: #e3e3e4; height: 16px; border-radius: .20rem; padding: 2px 10px; top: 10px;"
															id="edit_value" onclick="modify_btn(this)">Modify</a>
														<div class="dropdown-divider"></div>
														<a 
															class="dropdown-item" title=verify th:attr="group_name = ${paralist.group_name}" th:if="${paralist.status != 'Verified'} and ${RoleMenu.role == 'ADM'}"
															style="cursor: pointer; height: 20px; color: #3a4550; background: #e3e3e4; height: 16px; border-radius: .20rem; padding: 2px 10px; top: 10px;"
	 														id="verify_value" onclick="verify_btn_submit(this)">Verify</a>
														<div class="dropdown-divider"></div>
														<a 
															class="dropdown-item" title="View" th:attr="group_name= ${paralist.group_name}"
															style="cursor: pointer; height: 20px; color: #3a4550; background: #e3e3e4; height: 16px; border-radius: .20rem; padding: 2px 10px; top: 10px;"
															onclick="view_btn_submit(this)" id="view_btn">View </a>
															
															<div class="dropdown-divider"></div>
															
															
															<a 
															class="dropdown-item" title="Delete" th:attr="group_name= ${paralist.group_name}"
															style="cursor: pointer; height: 20px; color: #3a4550; background: #e3e3e4; height: 16px; border-radius: .20rem; padding: 2px 10px; top: 10px;"
															onclick="delete_btn_submit(this)" id="delete_btn">Delete </a>
															

													</div>
												</div>
											</td>
									
										</tr>
									</tbody>
								</table>
								
					
							</div>

						</div>
					</div>
				</div>
				
				</div>
				</form>
				<!---------------------parameter List Ends--------------------------------------------------------->
								<div class="card-footer  text-center" style="font-family: 'Nunito', sans-serif; font-size: 23px; font-weight: 600; letter-spacing: 0.5px; line-height: 1.5; width:112%; text-transform: capitalize; color: #333; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);">

									<button type="button" class="btn  btn-dark btn-primary" id="btnHome"
										style="width: 120px" onclick="home();">Home</button>

									<button type="button" class="btn  btn-dark btn-xs btn-primary"
										id="btnSubmit" style="width: 120px" onclick="addTaxData();">Submit</button>

								
									<button type="button" class="btn  btn-dark btn-primary" id="btnBack"
										style="width: 120px" onclick="back();">Back</button>
								</div>
							</div>
						
						</div>
					</div>
				</div>

			
<!--------------------- view, modify,verify and delete screens starts --------------------------------------------------------->
				

				<div class="col-sm-2" th:if="${formmode}=='view'  OR ${formmode}=='verify' OR ${formmode}=='edit' OR ${formmode}=='delete'">
				<div th:insert="BTMHeaderMenu :: header"></div>
			</div>
			<div class="col-sm-12" th:if="${formmode}=='view'  OR ${formmode}=='verify' OR ${formmode}=='edit' OR ${formmode}=='delete'" >
				<div class="container-fluid content" >
					<div class="row">
			<div class="col-sm-12">

						<form action="#" th:object="${taxparam}" class="w-100"
							method="post" autocomplete="off" id="taxparam" name="form1">

							<div class="card" style="width: 112%;">
							
								<div class="card-header border-bottom-0" style="font-family: 'Nunito', sans-serif; font-size: 23px; font-weight: 600; letter-spacing: 0.5px; line-height: 1.5; text-transform: capitalize; color: #333; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);" >
									<div class="">
										<h4 th:if="${formmode}=='view'">TAXATION PARAMETERS - View</h4>
										<h4 th:if="${formmode}=='edit'">TAXATION PARAMETERS- Edit</h4>
										<h4 th:if="${formmode}=='verify'">TAXATION PARAMETERS - Verify</h4>
										<h4 th:if="${formmode}=='delete'">TAXATION PARAMETERS - Delete</h4>
									</div>
									</div>
									<div class="row formline"></div>
									
									<div class="row formline"></div>
									<div class="card-body p-3">

									<div class="form-group mb-0">
									
								<div class="row formline" style=" margin-left: -94px;">
											<div class="col-4 col-lg-2">
								 <label for="dropdown" style=" FONT-SIZE: medium;transform: translateX(86px);margin-top: -5px;font-weight: 500;">TAX CATEGORY</label>
								 </div>
											<div class="col-4 col-lg-2">
	<select id="group"  name="group_name" style="  background-color: #f9fff6;" th:if="${formmode}=='view' OR ${formmode}=='verify' OR ${formmode}=='delete'" >
        <option th:text="${paramview.get(0).group_name}"></option>
    </select>
    <select id="group"  name="group_name" style="  background-color: #f9fff6;" th:if="${formmode}=='edit'">
        <option  th:text="${paramview.get(0).group_name}">SELECT</option>
        
    </select>
     </div>
     </div>
      </div>
       </div>
       <div id="tax_pa" >
										 <div class="row formline" >
										 <div class="col-4 col-lg-2">
											<label id="National" style="transform: translateX(25px);font-weight: 500;">NATIONAL</label>
											</div>
										 <div class="col-4 col-lg-1" style="transform: translateX(-53px);">
           								<label th:if="${formmode}=='edit'">
                						<input type="radio" name="national" value="yes" id="radioYes" th:checked="${paramview[0].national}" > Yes
                						</label>
                						<label  th:if="${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='delete'">
                						<input type="radio" name="national" value="yes" id="radioYes" th:checked="${paramview[0].national}"> Yes
           								 </label>
           								 </div>
           								 <label style="transform: translateX(-53px);"  th:if="${formmode}=='edit'">
               							 <input type="radio" name="national" value="no" id="radioNo" th:checked="${!paramview[0].national}"> No
               							</label>
               							<label  th:if="${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='delete'"> 
               							<input type="radio" name="national" value="no" id="radioNo" th:checked="${!paramview[0].national}"> No
           								 </label>
           								  <div class="col-4 col-lg-4">
           	<div id="dropdownDiv"  th:class="${paramview[0].national ? '' : 'hidden'}" th:if="${formmode}=='edit'">
            <label for="national_country">Country :</label>
            <select id="national_country" name="national_country" class="pat" style="background-color: #f9fff6;" >
                <option th:text="${paramview.get(0).national_country}" >Select a country</option>
            </select>
        </div>	
        	<div id="dropdownDiv"  th:class="${paramview[0].national ? '' : 'hidden'}" th:if="${formmode}=='verify'  OR ${formmode}=='view' OR ${formmode}=='delete'">
            <label for="national_country">Country :</label>
            <select id="national_country" name="national_country" class="pat" style="background-color: #f9fff6;" >
                <option th:text="${paramview.get(0).national_country}" >Select a country</option>
            </select>
        </div>			  
        <!--  <div id="inputDiv"  th:class="${!paramview[0].national ? '' : 'hidden'}" th:if="${formmode}=='edit'">
            <label >Please specify:</label>
            <input th:value="${paramview.get(0).specify_country}" type="text" id="specify_country" name="specify_country" class="pat" style="background-color: #f9fff6;">
        </div>
         <div id="inputDiv"  th:class="${!paramview[0].national ? '' : 'hidden'}" th:if="${formmode}=='verify' OR ${formmode}=='view'  OR ${formmode}=='delete'">
            <label >Please specify:</label>
            <input th:value="${paramview.get(0).specify_country}" type="text" id="specify_country" name="specify_country" class="pat" style="background-color: #f9fff6;">
        </div> -->
           								  </div>
       									 </div>
								
								<div class="card-body p-3">
									<div class="form-group mb-0">
									
										
									
    <table id="dynamicTable">
        <thead>
            <tr>
                <th style="display:none">Srl No</th>
                <th>Tax Code</th>
                <th>Min. Amount</th>
                <th>Max. Amount</th>
                <th>Tax Value (%)</th>
                <th>FJD</th>
                <th th:if="${formmode}=='edit'">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr id="templateRow" style="display: none;" th:if="${formmode}=='edit'">
                    <td style="display:none"><input type="text" name="srl_no" placeholder="Enter srl no" style="background-color: white;"></td>
                    <td><input type="text" name="tax_code" placeholder="Enter TaxCode" style="background-color: white;"></td>
                    <td><input type="number" name="min_amount" placeholder="Enter MinAmount" style="background-color: white;"></td>
                    <td><input type="number" name="max_amount" placeholder="Enter MaxAmount" style="background-color: white;"></td>
                    <td><input type="number" name="tax_value" placeholder="Enter TaxValue" style="background-color: white;"></td>
                    <td><input type="number" name="fjd" placeholder="fjd" style="background-color: white;"></td>
                    <td><button type="button" class="removeRowBtn1" onclick="removeRow(this)">Remove</button></td>
                </tr>
                <tr id="templateRow" style="display: none;" th:if="${formmode}=='verify' or ${formmode}=='view' or ${formmode}=='delete'">
                    <td style="display:none"><input type="text" name="srl_no" placeholder="Enter srl no" style="background-color: white;"></td>
                    <td><input type="text" name="tax_code" placeholder="Enter TaxCode" style="background-color: white;" readonly></td>
                    <td><input type="text" name="min_amount" placeholder="Enter MinAmount" style="background-color: white;" readonly></td>
                    <td><input type="text" name="max_amount" placeholder="Enter MaxAmount" style="background-color: white;" readonly></td>
                    <td><input type="text" name="tax_value" placeholder="Enter TaxValue" style="background-color: white;" readonly></td>
                    <td><input type="number" name="fjd" placeholder="fjd" style="background-color: white;"></td>
                   
                </tr>
        </tbody>
    </table>
    	 <button id="addRowBtn" onclick="adedddd();" th:if="${formmode}=='edit'">Add Row</button>
										 	
									</div>
								
								</div>
								</div>
								<div class="card-footer  text-center" style="font-family: 'Nunito', sans-serif; font-size: 23px; font-weight: 600; letter-spacing: 0.5px; line-height: 1.5; text-transform: capitalize; color: #333; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);">

									<button type="button" class="btn  btn-dark btn-primary" id="btnHome"
										style="width: 120px" onclick="home();">Home</button>

			<button type="button" class="btn  btn-dark btn-xs btn-primary"  th:if="${formmode}=='edit'"  th:attr="groupn= ${paramview.get(0).group_name}" 
		id="btnSubmit" style="width: 120px" onclick="modifyTaxData(this);">Submit</button>
			<button type="button" class="btn  btn-dark btn-xs btn-primary"  th:if="${formmode}=='verify'"  th:attr="groupn= ${paramview.get(0).group_name}" 
		id="btnSubmit" style="width: 120px" onclick="verifyParamData(this);">Submit</button>
			<button type="button" class="btn  btn-dark btn-xs btn-primary"  th:if="${formmode}=='delete'"  th:attr="groupn= ${paramview.get(0).group_name}" 
		id="btnSubmit" style="width: 120px" onclick="delParamData(this);">Submit</button>

								
									<button type="button" class="btn  btn-dark btn-primary" id="btnBack"
										style="width: 120px" onclick="back();">Back</button>
								</div>
							</div>
						</form>
						</div>
					</div>
				</div>

		
				<br> 
			
</div>
	<div class="modal fade" id="alert">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<div class="menu-title-header">
					<div class="modal-title" id="exampleModalLabel"
						style="text-align: center; color: white;">CIM FINANCE</div>
				</div>
				<div class="modal-body"
					style="text-align: center; background-color: #c6ccd2">
					<p id="alertmsg" style="font-size: 16px;"></p>
					<button type="button" class="btn  btn-dark btn-primary" data-dismiss="modal"
						style="width: 120px" onclick="back();">Close</button>
				</div>
			</div>
		</div>
	</div>
</div>

</div>
</body>

</html>