<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org" th:fragment="summary">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css"
	href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/font-awesome/5.9.0/css/all.min.css"
	th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
	
	
	
	
	

	<link rel="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
	<link rel="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">
	


<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/v/dt/jszip-3.10.1/dt-1.13.5/b-2.4.1/b-html5-2.4.1/b-print-2.4.1/datatables.min.js"></script>
  <script src="export.js"></script>

<link rel="stylesheet" type="text/css"
	href="/webjars/jquery-ui/1.12.1/jquery-ui.min.css"
	th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/datatables/1.10.19/css/jquery.dataTables.min.css"
	th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
<link rel="shortcut icon" th:href="@{/favicon.ico}" type="image/x-icon">
<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon">
<link rel ="stylesheet" href ="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css">  
<script src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js"
	th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
<script src="/webjars/popper.js/1.14.7/umd/popper.min.js"
	th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
<script src="/webjars/jquery/3.4.1/jquery.min.js"
	th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.min.js"
	th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
<script src="/webjars/jquery-form/4.2.2/jquery.form.min.js"
	th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>
<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
	th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>
<script src="/webjars/datatables/1.10.19/js/jquery.dataTables.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
<script
	src="/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>
<script src ="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/js/bootstrap-datetimepicker.min.js"></script>	
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Include TableExport library -->
    <script src="https://cdn.jsdelivr.net/npm/tableexport@5.2.0/dist/js/tableexport.min.js"></script>



<script src="//code.jquery.com/jquery-3.7.0.js"></script>
<script src="//cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="//cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="//cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
<script src="//cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
	
<title>ERP</title>
<style>
.tag-btn {
	font-size: 10px;
	text-transform: uppercase;
	font-weight: bold;
	color: #fff;
	cursor: pointer;
	z-index: 5;
	position: relative;
	padding: 10px;
	margin: 0;
	line-height: 5px;
	-webkit-transition: all 0.2s ease-in-out;
	-moz-transition: all 0.2s ease-in-out;
	-o-transition: all 0.2s ease-in-out;
	-ms-transition: all 0.2s ease-in-out;
	transition: all 0.2s ease-in-out;
	background-color: #F08080;
	border: none;
	color: #fff;
	box-shadow: none;
}

.filterable .filters input[disabled] {
	background-color: transparent;
	border: none;
	cursor: auto;
	box-shadow: none;
	padding: 0;
	height: auto;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-moz-placeholder {
	color: #333;
}

.filterable .filters input[disabled]:-ms-input-placeholder {
	color: #333;
}

#overlay {
	position: fixed;
	top: 0;
	z-index: 100;
	width: 100%;
	height: 100%;
	display: none;
	background: rgba(0, 0, 0, 0.6);
}

.cv-spinner {
	height: 100%;
	display: flex;
	justify-content: center;
	align-items: center;
}
body{
     position: absolute;
     left: 100px;
     margin-right: -10px;
     margin-right: 10px;
}


input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.container-fluid {
    padding: 0 15px;
}

.panel-primary {
    width: 100%;
}

.card {
    width: 100%;
}

.card-header, .card-footer {
    position: sticky;
    top: 0;
    z-index: 10;
}

.table-responsive {
    max-height: 600px;
    overflow-y: auto;
}

.table {
    width: 100%;
}

th, td {
    white-space: nowrap;
}

.nav-buttons {
    display: flex;
    align-items: center;
    gap: 10px;
}

@media (max-width: 1200px) {
    .card-header, .card-footer {
        flex-wrap: wrap;
    }

    .nav-buttons {
        flex-direction: column;
        align-items: flex-start;
    }

    .nav-buttons input, .nav-buttons button {
        width: 100%;
        margin-bottom: 5px;
    }
}


</style>

</head>

<script>

	function home() {
		location.href = 'Dashboard'
	}

	function back() {
		window.history.back();
	}
$(document)
.ready(
		function() {
			$('.filterable .btn-filter')
					.click(
							function() {
								var $panel = $(this).parents(
										'.filterable'), $filters = $panel
										.find('.filters input'), $tbody = $panel
										.find('.table tbody');
								if ($filters.prop('disabled') == true) {
									$filters
											.prop('disabled', false);
									$filters.first().focus();
								} else {
									$filters.val('').prop(
											'disabled', true);
									$tbody.find('.no-result')
											.remove();
									$tbody.find('tr').show();
								}
							});

			$('.filterable .filters input')
					.keyup(
							function(e) {
								/* Ignore tab key */
								var code = e.keyCode || e.which;
								if (code == '9')
									return;
								/* Useful DOM data and selectors */
								var $input = $(this), inputContent = $input
										.val().toLowerCase(), $panel = $input
										.parents('.filterable'), column = $panel
										.find('.filters th')
										.index($input.parents('th')), $table = $panel
										.find('.table'), $rows = $table
										.find('tbody tr');
								/* Dirtiest filter function ever ;)  */
								var $filteredRows = $rows
										.filter(function() {
											var value = $(this)
													.find('td').eq(
															column)
													.text()
													.toLowerCase();
											return value
													.indexOf(inputContent) === -1;
										});
								/* Clean previous no-result if exist */
								$table.find('tbody .no-result')
										.remove();
								/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
								$rows.show();
								$filteredRows.hide();
								/* Prepend no-result row if all rows are filtered */
								if ($filteredRows.length === $rows.length) {
									$table
											.find('tbody')
											.prepend(
													$('<tr class="no-result text-center"><td colspan="'
															+ $table
																	.find('.filters th').length
															+ '">No result found</td></tr>'));
								}
							});
		});
		
	
	/*	$(document).ready(function(){
        // Function to trigger the export when the button is clicked
        $("#exportBtn").click(function () {
			alert("hi....")
            // Use TableExport to export the table to Excel
            $("#usertable").tableExport({
                type: 'excel',
                escape: 'false', // Prevent escaping of any special characters
                fileName: 'table_export',
            });
            buttons:[
            'excel']
        });
         });*/
         $(document).ready(function() {
			// alert("jii")
  // Filtering logic
  $('#searchInput').on('keyup', function() {

    var value = $(this).val().toLowerCase();
    $('#usertable tr').filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
    });
  });

  // Export logic
  $("#exportBtnss").click(function() {
	  alert("hiiiii")
    var filteredData = [];
    $('#usertable tr:visible').each(function() {
      var rowData = [];
      $(this).find('td').each(function() {
        rowData.push($(this).text());
      });
      filteredData.push(rowData.join(','));
    });

    // Prepare data for export
    var csvContent = "data:text/csv;charset=utf-8," + filteredData.join('\n');

    // Create a download link
    var encodedUri = encodeURI(csvContent);
    var link = document.createElement("a");
    link.setAttribute("href", encodedUri);
    link.setAttribute("download", "filtered_data.csv");
    
    document.body.appendChild(link); // Required for Firefox
    link.click();
  });
});

  
		
		/*$(function(){
			$('#picker').datepicker({
			    todayHighlight:true,
			    format:'MM-DD-yyyy',
			    endDate: '07-28-2023',	
			});
		});
$(document).ready(

			function() {
				var today = new Date();
				var dd = today.getDate();
				const day = today.getDay();
				var year = today.getFullYear();
				var mm = today.getMonth() + 1;
				var yyyy = today.getFullYear();
				if (dd < 10) {
					dd = '0' + dd;
				}
				if (mm < 10) {
					mm = '0' + mm;
				}
				today = dd + '-' + mm + '-' + yyyy;

				$("#picker").val(today);

				const daylist = [ "Sunday", "Monday", "Tuesday", "Wednesday ",
						"Thursday", "Friday", "Saturday" ];

				$("#picker").val(`${daylist[day]}`);

				const allMonths = [ "January", "February", "March", "April",
						"May", "June", "July", "August", "September",
						"October", "November", "December" ];

				for (var i = 0; i < allMonths.length; i++) {

					$("#allMonths,#allmonths1").append(
							"<option value=" + (i + 1) + ">"
									+ (allMonths[i] + " - " + year)
									+ "</option>");
				}

			});*/



				
			
	
</script>
<body>



<div class="container-fluid" style="margin-left:-40px;">
    <div class="row">
        <div class="col-sm-2">
            <div th:insert="BTMHeaderMenu :: header"></div>
        </div>
        <div class="col-sm-10"  >
            <div th:if="${formmode}=='list'" class="content">
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel panel-primary filterable">
                            <div class="card">

                                <div class="card-header" style="font-family: 'Nunito', sans-serif; font-size: 23px; font-weight: 600; letter-spacing: 0.5px; line-height: 1.5; text-transform: capitalize; color: #333; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);">
                                    <div class="float-left">
                                        <h3>GRN STATUS</h3>
                                    </div>

                                    <div class="btn-group nav-buttons float-right">
                                        <button type="button" class="btn btn-excel btn-primary btns" id="exportBtnss" onclick="exportBtn()">Excel</button>
                                        <input type="text" id="searchInput" placeholder="Search...">
                                        <button type="button" class="btn btn-filter btn-primary btns" style="width: 100px">Filter</button>&nbsp;
                                    </div>
                                </div>

                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table" id="usertable">
                                            <thead>
                                                <tr class="filters" style="font-size: small;">
                                                    <th class="col-md-2">
                                                        <input type="" style="width:100px;" class="form-control font-weight-bold" placeholder="PO No" disabled>
                                                    </th>
                                                    <th class="col-md-1">
                                                        <input type="text" style="width: 124px;" class="form-control font-weight-bold" placeholder="Emp Name" disabled>
                                                    </th>
                                                    <th class="col-md-1">
                                                        <input type="text" style="width: 77px;" class="form-control font-weight-bold" placeholder="Emp Id" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="" style="width: 87px;" class="form-control font-weight-bold" placeholder="GRN No" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="text" style="width: 114px;" class="form-control font-weight-bold" placeholder="GRN Month" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="text" style="width: 99px;" class="form-control font-weight-bold" placeholder="GRN Date" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="" style="width: 125px;" class="form-control font-weight-bold" placeholder="GRN Amount" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="" style="width: 94px;" class="form-control font-weight-bold" placeholder="GST-18%" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="text" style="width: 120px;" class="form-control font-weight-bold" placeholder="Total Invoice" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="text" style="width: 105px;" class="form-control font-weight-bold" placeholder="Invoice No" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="text" style="width: 120px;" class="form-control font-weight-bold" placeholder="Invoice Date" disabled>
                                                    </th>
                                                    <th>
                                                        <input type="text" style="width: 70px;" class="form-control font-weight-bold" placeholder="DP No" disabled>
                                                    </th>
                                                  
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="grnnotnulllist : ${grnstsnotnull}" style="cursor: pointer; font-size:small;">
                                                    <td style="width: 125px; margin-left: -3px;" th:text="${grnnotnulllist.po_no}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.emp_name}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.emp_id}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.grn_no}">456</td>
                                                    <td style="width: 125px" th:text="${#dates.format(grnnotnulllist.po_delivery_date,'MMM')}">456</td>
                                                    <td style="width: 125px" th:text="${#dates.format(grnnotnulllist.grn_date,'dd-MM-yyyy')}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.grn_amt}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.inv_igst}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.inv_tot_amt}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.inv_no}">456</td>
                                                    <td style="width: 125px" th:text="${#dates.format(grnnotnulllist.inv_date,'dd-MM-yyyy')}">456</td>
                                                    <td style="width: 125px" th:text="${grnnotnulllist.dp_no}">456</td>
                                                   
                                                    
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="card-footer text-center" style="font-family: 'Nunito', sans-serif; font-size: 23px; font-weight: 600; letter-spacing: 0.5px; line-height: 1.5; text-transform: capitalize; color: #333; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);">
                                    <button type="button" class="btn btn-primary" id="btnHome" style="width: 140px" onclick="home();">Home</button>
                                    <button type="button" class="btn btn-primary" id="btnBack" style="width: 120px" onclick="back();">Back</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        </div>

											

</body>
</html>